#!/usr/bin/env zsh

# This file serves as a global variable value holder showing if the windows are mapped or not.

for process in ${@:1}; do 
	state=/tmp/xctl/$process
	case $1 in
		(show) xdotool search --class $process windowmap %@ windowraise %@;;
		(hide) xdotool search --onlyvisible --class $process windowunmap %@;;
		(*) break;;
	esac
	[[ $1 == toggle ]] && {
		[[ -f $state ]] && [[ `cat $state` == show ]] && xctl hide $process || xctl show $process
	} || echo $1 > $state
done
