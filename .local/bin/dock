#!/bin/sh

dock="lxqt-panel conky"

[[ -z $1 ]] && {
    killall $dock
    sleep 1
    # polybar example & 
    lxqt-panel & conky
    sleep 1
    xctl hide $dock
    exit 0
} || [[ $1 == toggle ]] && {
    # all the windows belonging to the dock must share the same state
    for process in $dock; do
        case `cat /tmp/xctl/$process` in
            (visible) xctl hide $dock;;
            (hidden) xctl show $dock;;
        esac
        break
    done
} || {
    xctl $1 $dock
}